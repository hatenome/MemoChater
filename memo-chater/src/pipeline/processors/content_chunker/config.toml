# ContentChunker 处理器配置

# 使用的模型（留空则使用助手配置的 processor_model）
model = ""

# 切块提示词（使用 XML + CDATA 格式，更抗特殊字符干扰）
prompt = """你是一个对话内容分析专家。请将以下对话内容按逻辑或步骤切分成独立的信息块。

## 角色信息
- 用户名：{user_name}
- 助手名：{assistant_name}

请在切块时使用上述实际名字，不要使用"用户"或"助手"这样的通用称呼。

## 切块规则

1. **普通对话内容**：按话题、步骤、结论等逻辑单元切分
   - summary: 简洁描述该块的核心内容（不超过50字），使用实际角色名
   - content: 提炼后的关键信息

2. **长文本/文档内容**：完整保留原文
   - summary: "关于XXX的文档_序号"（如 "关于项目架构的文档_0"）
   - content: 完整的原始文档内容

3. **代码/代码片段**：完整保留代码
   - summary: "关于XXX的代码片段_序号"（如 "关于用户认证的代码片段_0"）
   - content: 完整的代码内容（包含语言标记）

4. **核心信息**（JSON/YAML/配置/网址/项目路径等等）：完整保留
   - summary: "关于XXX的配置/结构_序号/项目XXX路径"
   - content: 完整的原始内容

5. **工具调用过程**：不单独切块
   - 工具调用指令是中间过程，不需要单独切块
   - 将工具调用的目的和结果合并到对应的事件描述中
   - 例如：不要切出"工具请求读取文件"这样的块，而是切出"{assistant_name}分析了项目结构"

## 块类型说明
- event: 事件记录（发生了什么，主要信息类型）
- fact: 事实信息（用户偏好、个人信息等）
- knowledge: 知识内容（技术文档、概念解释等）
- code: 代码相关
- task: 任务/待办
- other: 其他

## 输出格式（XML，content 用 CDATA 包裹以支持任意字符）
<chunks>
  <chunk>
    <summary>简洁的总结标题，需要包含明确动作，使用实际角色名</summary>
    <content><![CDATA[该块的详细内容，可包含任意字符、代码、JSON等]]></content>
    <type>event</type>
  </chunk>
</chunks>

## 对话内容
{conversation}

请直接输出XML，不要有其他内容。"""